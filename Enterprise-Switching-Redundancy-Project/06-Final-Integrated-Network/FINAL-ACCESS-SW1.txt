! ===== FINAL CONFIG – ACCESS-SW1 (Porto) =====
hostname ACCESS-SW1

no ip domain-lookup
ip domain-name porto-gaia.lab

enable secret ENABLE_PASSWORD
username admin privilege 15 secret ADMIN_PASSWORD

! STP + VLANs
spanning-tree mode rapid-pvst
spanning-tree extend system-id

vlan 10
 name VLAN10-Users
vlan 20
 name VLAN20-Users

! Porta de acesso – PC VLAN 10 com port-security
interface Ethernet0/0
 switchport mode access
 switchport access vlan 10
 switchport port-security
 switchport port-security mac-address sticky
 no shutdown

! EtherChannel para ACCESS-SW2
interface Ethernet0/1
 switchport trunk encapsulation dot1q
 switchport mode trunk
 switchport trunk allowed vlan 10,20
 switchport nonegotiate
 channel-group 1 mode active
 no shutdown

interface Ethernet0/2
 switchport trunk encapsulation dot1q
 switchport mode trunk
 switchport trunk allowed vlan 10,20
 switchport nonegotiate
 channel-group 1 mode active
 no shutdown

interface Port-channel1
 switchport trunk encapsulation dot1q
 switchport mode trunk
 switchport trunk allowed vlan 10,20
 switchport nonegotiate
 no shutdown

! Uplink para DIST-SW6
interface Ethernet1/0
 switchport trunk encapsulation dot1q
 switchport mode trunk
 switchport trunk allowed vlan 10,20
 switchport nonegotiate
 no shutdown

! SSH
crypto key generate rsa modulus 2048
ip ssh version 2

banner motd ^C
ACESSO RESTRITO
ACCESS-SW1 – Switch de acesso (Porto).
^C

line con 0
 logging synchronous
 exec-timeout 0 0
 privilege level 15

line vty 0 4
 logging synchronous
 exec-timeout 10 0
 login local
 transport input ssh
